var _0x5438 = ['polygon', 'length', 'responseText', 'https://api.mapbox.com/directions/v5/mapbox/walking/', 'routes', '.json?access_token=pk.eyJ1Ijoid2FseiIsImEiOiJjajc0eDRqOHQxMm12MzNwaXo3OHg3MXV5In0.1RHDChmPn2sg-VUSS-yIdQ&steps=true&overview=full&geometries=geojson&annotations=distance&continue_straight=true', 'lineIntersect', 'scrollTo', 'addTo', 'latLng', 'add', 'innerHTML', 'send', 'scrollHeight', 'generateRandomTripButton', 'location', 'geoJson', 'features', 'cos', 'geometry', 'addLayer', 'getElementById', 'sin', 'keys', '<span\x20class=\x27ion-alert\x27>\x20Impossible\x20de\x20générer\x20un\x20itinéraire\x20</span>', 'opacity-50', 'random', '_layers', 'classList', 'polygonToLine', 'waypoints', 'red', 'log', 'parse', 'body', 'open']; (function (_0x3eb2c7, _0x543846) { var _0xb65dcb = function (_0x591b3c) { while (--_0x591b3c) { _0x3eb2c7['push'](_0x3eb2c7['shift']()); } }; _0xb65dcb(++_0x543846); }(_0x5438, 0x16b)); var _0xb65d = function (_0x3eb2c7, _0x543846) { _0x3eb2c7 = _0x3eb2c7 - 0x0; var _0xb65dcb = _0x5438[_0x3eb2c7]; return _0xb65dcb; }; function findPts(_0x2f1aa2) { var _0x24b812 = _0x2f1aa2[0x0] * Math['PI'] / 0xb4; var _0x578b2d = _0x2f1aa2[0x1] * Math['PI'] / 0xb4; var _0x5e9aae = 1.5 * 0.609344; var _0x4fc900 = 1.5 * 0.609344; var _0x49d208 = Math['PI'] / 0xb4 * ((0x78 - 0x3c) * Math['random']() + 0x3c); var _0x5f3939 = 0.85; var _0x289b38 = _0x5f3939 * _0x4fc900 / (0x2 + 0x2 * Math[_0xb65d('0x13')](_0x49d208 / 0x2)); var _0x2e295b = 0xfa0 * Math['cos'](_0x24b812); var _0x25c353 = 0x2 * Math[_0xb65d('0x17')]() * Math['PI']; var _0x1a8429 = _0x289b38 * Math[_0xb65d('0xf')](_0x25c353) / 0xfa0 + _0x24b812; var _0xebc1fc = _0x578b2d + _0x289b38 * Math[_0xb65d('0x13')](_0x25c353) / _0x2e295b; var _0x1d59da = _0x289b38 * Math[_0xb65d('0xf')](_0x25c353 + _0x49d208) / 0xfa0 + _0x24b812; var _0x426db2 = _0x578b2d + _0x289b38 * Math[_0xb65d('0x13')](_0x25c353 + _0x49d208) / _0x2e295b; LatLng2 = [_0x1a8429 * 0xb4 / Math['PI'], _0xebc1fc * 0xb4 / Math['PI']]; LatLng3 = [_0x1d59da * 0xb4 / Math['PI'], _0x426db2 * 0xb4 / Math['PI']]; return [LatLng2, LatLng3]; } function generateRandomTrip() { if (numberOfTryForTrip < 0xa) { var _0x1f36f9 = findPts(homeLocationLatLng); var _0x539b4f = new XMLHttpRequest(); _0x539b4f[_0xb65d('0x20')]('GET', _0xb65d('0x0') + encodeURI(homeLocationLatLng[0x1] + ',' + homeLocationLatLng[0x0] + ';' + _0x1f36f9[0x0][0x1] + ',' + _0x1f36f9[0x0][0x0] + ';' + _0x1f36f9[0x1][0x1] + ',' + _0x1f36f9[0x1][0x0] + ';' + homeLocationLatLng[0x1] + ',' + homeLocationLatLng[0x0]) + _0xb65d('0x2'), ![]); _0x539b4f[_0xb65d('0x9')](null); var _0x2cdc78 = JSON[_0xb65d('0x1e')](_0x539b4f[_0xb65d('0x23')]); var _0x12fc4f = []; var _0x1c9a5b = []; for (var _0x456eef = 0x0; _0x456eef < _0x2cdc78[_0xb65d('0x1b')]['length']; _0x456eef++) { _0x12fc4f['push'](L[_0xb65d('0x6')]([_0x2cdc78[_0xb65d('0x1b')][_0x456eef][_0xb65d('0xc')][0x1], _0x2cdc78[_0xb65d('0x1b')][_0x456eef][_0xb65d('0xc')][0x0]])); _0x1c9a5b['push'](_0x2cdc78[_0xb65d('0x1b')][_0x456eef][_0xb65d('0xc')]); }; var _0x18fe97 = homeMarkersLayer[_0xb65d('0x18')][Object[_0xb65d('0x14')](homeMarkersLayer[_0xb65d('0x18')])[0x1]]; var _0x4cbab8 = _0x18fe97['_layers'][Object[_0xb65d('0x14')](_0x18fe97[_0xb65d('0x18')])[0x0]]; var _0x12bf64 = turf[_0xb65d('0x21')](polygonCoordinates); var _0x45b99f = turf[_0xb65d('0x1a')](_0x12bf64); var _0x395efc = turf[_0xb65d('0x3')](_0x2cdc78[_0xb65d('0x1')][0x0][_0xb65d('0x10')], _0x45b99f); if (_0x395efc[_0xb65d('0xe')][_0xb65d('0x22')] > 0x0) { numberOfTryForTrip++; console[_0xb65d('0x1d')](numberOfTryForTrip); generateRandomTrip(); return; } numberOfTryForTrip = 0x0; tripLayer['clearLayers'](); L[_0xb65d('0xd')](_0x2cdc78[_0xb65d('0x1')][0x0]['geometry'], { 'style': { 'color': _0xb65d('0x1c') } })[_0xb65d('0x5')](tripLayer); map[_0xb65d('0x11')](tripLayer); if (isBrowserMobile()) { window[_0xb65d('0x4')](0x0, document[_0xb65d('0x1f')][_0xb65d('0xa')]); } } else { var _0xfcc507 = document[_0xb65d('0x12')](_0xb65d('0xb')); _0xfcc507[_0xb65d('0x19')][_0xb65d('0x7')](_0xb65d('0x16')); _0xfcc507[_0xb65d('0x19')][_0xb65d('0x7')]('cursor-not-allowed'); _0xfcc507[_0xb65d('0x8')] = _0xb65d('0x15'); return; } }