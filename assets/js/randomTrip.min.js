var _0x4104 = ['remove', 'tripDistance', 'https://api.mapbox.com/directions/v5/mapbox/walking/', 'disabled', 'cursor-not-allowed', 'true', 'waypoints', 'scrollTo', 'sin', 'latLng', 'addLayer', 'parse', '\x20km', 'push', 'geometry', 'opacity-50', 'responseText', 'body', 'cos', 'clearLayers', 'classList', 'orange', 'distance', 'features', 'send', 'open', '.json?access_token=pk.eyJ1Ijoid2FseiIsImEiOiJjajc0eDRqOHQxMm12MzNwaXo3OHg3MXV5In0.1RHDChmPn2sg-VUSS-yIdQ&steps=true&overview=full&geometries=geojson&annotations=distance&continue_straight=true', 'keys', 'polygonToLine', 'tripDistanceText', 'length', 'routes', '<span\x20class=\x27ion-alert\x27>\x20Impossible\x20de\x20générer\x20un\x20itinéraire\x20</span>', 'innerText', 'add', 'location', 'log', 'getElementById', 'polygon', 'addTo', '_layers', 'innerHTML', 'random']; (function (_0x34b94f, _0x4104ff) { var _0x11103b = function (_0x580975) { while (--_0x580975) { _0x34b94f['push'](_0x34b94f['shift']()); } }; _0x11103b(++_0x4104ff); }(_0x4104, 0x141)); var _0x1110 = function (_0x34b94f, _0x4104ff) { _0x34b94f = _0x34b94f - 0x0; var _0x11103b = _0x4104[_0x34b94f]; return _0x11103b; }; function findPts(_0x3b2e34) { var _0x39878e = _0x3b2e34[0x0] * Math['PI'] / 0xb4; var _0x46d394 = _0x3b2e34[0x1] * Math['PI'] / 0xb4; var _0x3137df = 1.5 * 0.609344; var _0x3020d6 = 1.5 * 0.609344; var _0x6e67d8 = Math['PI'] / 0xb4 * ((0x78 - 0x3c) * Math['random']() + 0x3c); var _0x5dea65 = 0.85; var _0x5126d8 = _0x5dea65 * _0x3020d6 / (0x2 + 0x2 * Math[_0x1110('0x1f')](_0x6e67d8 / 0x2)); var _0x4413cc = 0xfa0 * Math[_0x1110('0x29')](_0x39878e); var _0x1f4e28 = 0x2 * Math[_0x1110('0x16')]() * Math['PI']; var _0x4bd522 = _0x5126d8 * Math[_0x1110('0x29')](_0x1f4e28) / 0xfa0 + _0x39878e; var _0x1b5971 = _0x46d394 + _0x5126d8 * Math[_0x1110('0x1f')](_0x1f4e28) / _0x4413cc; var _0x13c141 = _0x5126d8 * Math[_0x1110('0x29')](_0x1f4e28 + _0x6e67d8) / 0xfa0 + _0x39878e; var _0x17c3df = _0x46d394 + _0x5126d8 * Math['sin'](_0x1f4e28 + _0x6e67d8) / _0x4413cc; LatLng2 = [_0x4bd522 * 0xb4 / Math['PI'], _0x1b5971 * 0xb4 / Math['PI']]; LatLng3 = [_0x13c141 * 0xb4 / Math['PI'], _0x17c3df * 0xb4 / Math['PI']]; return [LatLng2, LatLng3]; } function generateRandomTrip() { if (numberOfTryForTrip < 0xa) { var _0x3c902f = findPts(homeLocationLatLng); var _0x12e250 = new XMLHttpRequest(); _0x12e250[_0x1110('0x5')]('GET', _0x1110('0x19') + encodeURI(homeLocationLatLng[0x1] + ',' + homeLocationLatLng[0x0] + ';' + _0x3c902f[0x0][0x1] + ',' + _0x3c902f[0x0][0x0] + ';' + _0x3c902f[0x1][0x1] + ',' + _0x3c902f[0x1][0x0] + ';' + homeLocationLatLng[0x1] + ',' + homeLocationLatLng[0x0]) + _0x1110('0x6'), ![]); _0x12e250[_0x1110('0x4')](null); var _0x5f38cc = JSON[_0x1110('0x22')](_0x12e250[_0x1110('0x27')]); var _0x2b1629 = []; var _0x2c570f = []; for (var _0x2e3607 = 0x0; _0x2e3607 < _0x5f38cc[_0x1110('0x1d')][_0x1110('0xa')]; _0x2e3607++) { _0x2b1629[_0x1110('0x24')](L[_0x1110('0x20')]([_0x5f38cc[_0x1110('0x1d')][_0x2e3607][_0x1110('0xf')][0x1], _0x5f38cc['waypoints'][_0x2e3607][_0x1110('0xf')][0x0]])); _0x2c570f[_0x1110('0x24')](_0x5f38cc['waypoints'][_0x2e3607][_0x1110('0xf')]); }; var _0x10e238 = homeMarkersLayer[_0x1110('0x14')][Object[_0x1110('0x7')](homeMarkersLayer[_0x1110('0x14')])[0x1]]; var _0x527afa = _0x10e238[_0x1110('0x14')][Object[_0x1110('0x7')](_0x10e238[_0x1110('0x14')])[0x0]]; var _0x513305 = turf[_0x1110('0x12')](polygonCoordinates); var _0x5cf1dc = turf[_0x1110('0x8')](_0x513305); var _0x477df8 = turf['lineIntersect'](_0x5f38cc[_0x1110('0xb')][0x0][_0x1110('0x25')], _0x5cf1dc); if (_0x477df8[_0x1110('0x3')][_0x1110('0xa')] > 0x0) { numberOfTryForTrip++; console[_0x1110('0x10')](numberOfTryForTrip); document[_0x1110('0x11')](_0x1110('0x18'))['classList'][_0x1110('0xe')]('hidden'); generateRandomTrip(); return; } numberOfTryForTrip = 0x0; tripLayer[_0x1110('0x2a')](); L['geoJson'](_0x5f38cc[_0x1110('0xb')][0x0][_0x1110('0x25')], { 'style': { 'color': _0x1110('0x1') } })[_0x1110('0x13')](tripLayer); map[_0x1110('0x21')](tripLayer); document['getElementById'](_0x1110('0x18'))[_0x1110('0x0')][_0x1110('0x17')]('hidden'); document[_0x1110('0x11')](_0x1110('0x9'))[_0x1110('0xd')] = (_0x5f38cc[_0x1110('0xb')][0x0][_0x1110('0x2')] / 0x3e8)['toFixed'](0x2) + _0x1110('0x23'); if (isBrowserMobile()) { window[_0x1110('0x1e')](0x0, document[_0x1110('0x28')]['scrollHeight']); } } else { var _0x45767b = document['getElementById']('generateRandomTripButton'); _0x45767b[_0x1110('0x0')][_0x1110('0xe')](_0x1110('0x26')); _0x45767b[_0x1110('0x0')][_0x1110('0xe')](_0x1110('0x1b')); _0x45767b['setAttribute'](_0x1110('0x1a'), _0x1110('0x1c')); _0x45767b[_0x1110('0x15')] = _0x1110('0xc'); return; } }